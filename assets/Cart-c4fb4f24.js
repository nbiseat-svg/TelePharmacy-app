import{j as a}from"./index-1a78f5cf.js";import{u as h,L as r}from"./vendor-d9bade96.js";import{u as p,a as x}from"./redux-e3095c52.js";import{r as j,a as u}from"./cartActions-f9a77b64.js";import{m as t}from"./animations-c3d91ae5.js";import"./i18n-b264d0aa.js";import"./axios-edfcd65b.js";const $=()=>{const c=p(),n=h(),o=x(s=>s.cart),{cartItems:i}=o,d=s=>{c(j(s))},l=(s,e)=>{c(u(s,e))},m=()=>{n("/login?redirect=shipping")};return a.jsx(t.div,{className:"cart-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"cart-container",children:[a.jsxs(t.div,{className:"cart-header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[a.jsx("h2",{children:"Shopping Cart"}),a.jsxs("p",{children:["You have ",i.length," items in your cart"]})]}),i.length===0?a.jsxs("div",{className:"cart-empty",children:[a.jsx("h3",{children:"Your cart is empty"}),a.jsx(r,{to:"/medications",className:"btn-primary",children:"Continue Shopping"})]}):a.jsxs("div",{className:"cart-content",children:[a.jsx("div",{className:"cart-items",children:i.map(s=>a.jsxs(t.div,{className:"cart-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsx("div",{className:"item-image",children:a.jsx("img",{src:s.image,alt:s.name})}),a.jsxs("div",{className:"item-details",children:[a.jsx(r,{to:`/medication/${s.medication}`,children:a.jsx("h3",{children:s.name})}),a.jsxs("p",{className:"item-price",children:["$",s.price]})]}),a.jsxs("div",{className:"item-quantity",children:[a.jsx("label",{htmlFor:`qty-${s.medication}`,children:"Quantity:"}),a.jsx("select",{id:`qty-${s.medication}`,value:s.qty,onChange:e=>l(s.medication,Number(e.target.value)),children:[...Array(s.stock).keys()].map(e=>a.jsx("option",{value:e+1,children:e+1},e+1))})]}),a.jsx("div",{className:"item-total",children:a.jsxs("p",{children:["$",(s.qty*s.price).toFixed(2)]})}),a.jsx("button",{className:"remove-button",onClick:()=>d(s.medication),children:"Remove"})]},s.medication))}),a.jsxs("div",{className:"cart-summary",children:[a.jsxs("div",{className:"summary-box",children:[a.jsx("h3",{children:"Order Summary"}),a.jsxs("div",{className:"summary-row",children:[a.jsxs("span",{children:["Subtotal (",i.reduce((s,e)=>s+e.qty,0),") items"]}),a.jsxs("span",{children:["$",i.reduce((s,e)=>s+e.qty*e.price,0).toFixed(2)]})]}),a.jsxs("div",{className:"summary-row",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:"Free"})]}),a.jsxs("div",{className:"summary-row",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",(i.reduce((s,e)=>s+e.qty*e.price,0)*.08).toFixed(2)]})]}),a.jsxs("div",{className:"summary-row total",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",(i.reduce((s,e)=>s+e.qty*e.price,0)*1.08).toFixed(2)]})]}),a.jsx("button",{className:"btn-primary",onClick:m,disabled:i.length===0,children:"Proceed to Checkout"})]}),a.jsx(r,{to:"/medications",className:"btn-secondary",children:"Continue Shopping"})]})]})]})})};export{$ as default};
