import{j as e}from"./index-1a78f5cf.js";import{u as F,r as p,L as D}from"./vendor-d9bade96.js";import{u as P,a as E}from"./redux-e3095c52.js";import{s as A,b as O,c as q}from"./cartActions-f9a77b64.js";import{D as w}from"./deliveryService-b76a95e0.js";import{P as M}from"./paymentService-ee27eb05.js";import{m as t}from"./animations-c3d91ae5.js";import"./i18n-b264d0aa.js";import"./axios-edfcd65b.js";const G=()=>{var j;const v=F(),c=P(),N=E(s=>s.cart),{cartItems:h}=N,[a,r]=p.useState({address:"",city:"",postalCode:"",country:""}),[d,l]=p.useState("Credit Card"),[n,o]=p.useState("standard"),{address:g,city:C,postalCode:k,country:f}=a,x=w.getDeliveryOptions(),b=M.getPaymentMethods(),S=s=>{s.preventDefault(),c(A(a)),c(O(d)),c(q(n)),v("/placeorder")},m=h.reduce((s,i)=>s+i.qty*i.price,0),y=((j=x.find(s=>s.id===n))==null?void 0:j.price)||0,u=Number((.08*m).toFixed(2)),$=(m+y+u).toFixed(2);return e.jsx(t.div,{className:"checkout-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs("div",{className:"checkout-container",children:[e.jsxs(t.div,{className:"checkout-header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[e.jsx("h2",{children:"Checkout"}),e.jsx("p",{children:"Complete your order information"})]}),e.jsxs("div",{className:"checkout-content",children:[e.jsxs("div",{className:"checkout-form",children:[e.jsxs(t.div,{className:"checkout-step",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx("h3",{children:"Shipping Address"}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("input",{type:"text",id:"address",placeholder:"Enter address",value:g,required:!0,onChange:s=>r({...a,address:s.target.value})})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",children:"City"}),e.jsx("input",{type:"text",id:"city",placeholder:"Enter city",value:C,required:!0,onChange:s=>r({...a,city:s.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"postalCode",children:"Postal Code"}),e.jsx("input",{type:"text",id:"postalCode",placeholder:"Enter postal code",value:k,required:!0,onChange:s=>r({...a,postalCode:s.target.value})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"country",children:"Country"}),e.jsx("input",{type:"text",id:"country",placeholder:"Enter country",value:f,required:!0,onChange:s=>r({...a,country:s.target.value})})]})]})]}),e.jsxs(t.div,{className:"checkout-step",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.4},children:[e.jsx("h3",{children:"Delivery Options"}),e.jsx("div",{className:"delivery-options",children:x.map(s=>e.jsxs("div",{className:`delivery-option ${n===s.id?"selected":""}`,onClick:()=>o(s.id),role:"button",tabIndex:0,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&o(s.id)},children:[e.jsx("input",{type:"radio",id:`delivery-${s.id}`,name:"deliveryOption",value:s.id,checked:n===s.id,onChange:()=>o(s.id)}),e.jsxs("label",{htmlFor:`delivery-${s.id}`,children:[e.jsxs("div",{className:"option-header",children:[e.jsx("span",{className:"option-name",children:s.name}),e.jsxs("span",{className:"option-price",children:["$",s.price.toFixed(2)]})]}),e.jsx("div",{className:"option-description",children:s.description}),e.jsxs("div",{className:"option-estimated",children:["Estimated: ",s.estimatedDays]})]})]},s.id))})]}),e.jsxs(t.div,{className:"checkout-step",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.5},children:[e.jsx("h3",{children:"Payment Method"}),e.jsx("div",{className:"payment-methods",children:b.map(s=>e.jsxs("div",{className:`payment-option ${d===s.name?"selected":""}`,onClick:()=>l(s.name),role:"button",tabIndex:0,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&l(s.name)},children:[e.jsx("input",{type:"radio",id:`payment-${s.id}`,name:"paymentMethod",value:s.name,checked:d===s.name,onChange:()=>l(s.name)}),e.jsxs("label",{htmlFor:`payment-${s.id}`,children:[e.jsx("div",{className:"option-header",children:e.jsxs("span",{className:"option-name",children:[s.icon," ",s.name]})}),e.jsx("div",{className:"option-description",children:s.description})]})]},s.id))}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Continue"})]})]}),e.jsx("div",{className:"checkout-summary",children:e.jsxs(t.div,{className:"summary-box",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.6},children:[e.jsx("h3",{children:"Order Summary"}),e.jsx("div",{className:"summary-items",children:h.map(s=>e.jsxs("div",{className:"summary-item",children:[e.jsxs("div",{className:"item-info",children:[e.jsx("img",{src:s.image,alt:s.name}),e.jsxs("div",{children:[e.jsx("h4",{children:s.name}),e.jsxs("p",{children:["Qty: ",s.qty]})]})]}),e.jsxs("div",{className:"item-price",children:["$",s.qty*s.price]})]},s.medication))}),e.jsxs("div",{className:"summary-totals",children:[e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",m.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Shipping"}),e.jsxs("span",{children:["$",y.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["$",u.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row total",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",$]})]})]}),e.jsx(D,{to:"/cart",className:"btn-secondary",children:"Back to Cart"})]})})]})]})})};export{G as default};
