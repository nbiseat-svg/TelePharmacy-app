import{j as e}from"./index-a78a0123.js";import{r as s,L as I}from"./vendor-d9bade96.js";import{m as t}from"./animations-c3d91ae5.js";import"./redux-e3095c52.js";import"./i18n-b264d0aa.js";const b=c=>new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",minimumFractionDigits:2,maximumFractionDigits:2}).format(c),r=(c,l=55)=>c*l;const T=()=>{const[c,l]=s.useState([]),[u,d]=s.useState(!1),[g,p]=s.useState(""),[m,x]=s.useState(""),[o,y]=s.useState(""),[n,j]=s.useState("name"),v=[{_id:"1",name:"Paracetamol 500mg",description:"Pain reliever and fever reducer",category:"Pain Relief",price:r(5.99),images:["/src/assets/med1.jpg"],stock:100,rating:4.5,reviews:120},{_id:"2",name:"Amoxicillin 250mg",description:"Antibiotic used to treat bacterial infections",category:"Antibiotics",price:r(12.5),images:["/src/assets/med2.jpg"],stock:50,rating:4.2,reviews:85},{_id:"3",name:"Ibuprofen 200mg",description:"Nonsteroidal anti-inflammatory drug",category:"Pain Relief",price:r(8.75),images:["/src/assets/med3.jpg"],stock:75,rating:4.7,reviews:210},{_id:"4",name:"Lisinopril 10mg",description:"ACE inhibitor used to treat high blood pressure",category:"Cardiovascular",price:r(15.25),images:["/src/assets/med4.jpg"],stock:30,rating:4,reviews:65},{_id:"5",name:"Metformin 500mg",description:"Oral diabetes medicine",category:"Diabetes",price:r(9.99),images:["/src/assets/med5.jpg"],stock:80,rating:4.3,reviews:95},{_id:"6",name:"Atorvastatin 20mg",description:"Statin used to treat elevated cholesterol",category:"Cardiovascular",price:r(22.5),images:["/src/assets/med6.jpg"],stock:40,rating:4.1,reviews:78}],f=["All Categories","Pain Relief","Antibiotics","Cardiovascular","Diabetes","Vitamins & Supplements","Digestive Health","Respiratory"];s.useEffect(()=>{(async()=>{d(!0),p("");try{setTimeout(()=>{l(v),d(!1)},1e3)}catch{p("Failed to load medications. Please try again."),d(!1)}})()},[]);const h=[...c.filter(i=>{const a=i.name.toLowerCase().includes(m.toLowerCase())||i.description.toLowerCase().includes(m.toLowerCase()),C=o===""||o==="All Categories"||i.category===o;return a&&C})].sort((i,a)=>n==="name"?i.name.localeCompare(a.name):n==="price-low"?i.price-a.price:n==="price-high"?a.price-i.price:n==="rating"?a.rating-i.rating:0),N=i=>{i.target.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNlMGUwZTAiLz48dGV4dCB4PSI1MCIgeT0iNTAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSI+TWVkaWNpbmU8L3RleHQ+PC9zdmc+"};return e.jsx(t.div,{className:"catalog-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs("div",{className:"catalog-container",children:[e.jsxs(t.div,{className:"catalog-header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[e.jsx("h2",{children:"Medication Catalog"}),e.jsx("p",{children:"Browse our extensive selection of medications"})]}),e.jsxs(t.div,{className:"catalog-filters",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs("div",{className:"search-bar",children:[e.jsx("input",{type:"text",placeholder:"Search medications...",value:m,onChange:i=>x(i.target.value)}),e.jsx("button",{className:"search-button",children:"🔍"})]}),e.jsxs("div",{className:"filter-controls",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"category",children:"Category:"}),e.jsx("select",{id:"category",value:o,onChange:i=>y(i.target.value),children:f.map((i,a)=>e.jsx("option",{value:a===0?"":i,children:i},a))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"sort",children:"Sort by:"}),e.jsxs("select",{id:"sort",value:n,onChange:i=>j(i.target.value),children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"rating",children:"Rating"})]})]})]})]}),g&&e.jsx(t.div,{className:"alert alert-danger",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:g}),u?e.jsx(t.div,{className:"loading",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:e.jsx("p",{children:"Loading medications..."})}):e.jsx(t.div,{className:"medications-grid",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:h.length>0?h.map(i=>e.jsxs("div",{className:"medication-card",children:[e.jsxs(I,{to:`/medication/${i._id}`,className:"medication-link",children:[e.jsx("div",{className:"medication-image",children:e.jsx("img",{src:i.images[0],alt:i.name,onError:N})}),e.jsxs("div",{className:"medication-info",children:[e.jsx("h3",{children:i.name}),e.jsx("p",{className:"medication-category",children:i.category}),e.jsx("p",{className:"medication-description",children:i.description}),e.jsxs("div",{className:"medication-meta",children:[e.jsxs("div",{className:"medication-rating",children:[e.jsxs("span",{className:"stars",children:["★".repeat(Math.floor(i.rating)),"☆".repeat(5-Math.floor(i.rating))]}),e.jsxs("span",{className:"rating-value",children:["(",i.rating,")"]})]}),e.jsx("div",{className:"medication-price",children:b(i.price)})]}),e.jsx("div",{className:"medication-stock",children:i.stock>0?e.jsxs("span",{className:"in-stock",children:["In Stock (",i.stock," available)"]}):e.jsx("span",{className:"out-of-stock",children:"Out of Stock"})})]})]}),e.jsx("div",{className:"medication-actions",children:e.jsx("button",{className:"btn-primary",children:"Add to Cart"})})]},i._id)):e.jsxs("div",{className:"no-results",children:[e.jsx("h3",{children:"No medications found"}),e.jsx("p",{children:"Try adjusting your search or filter criteria"})]})})]})})};export{T as default};
