import{o as g,j as e}from"./index-1a78f5cf.js";import{u as P,r as c,L as O}from"./vendor-d9bade96.js";import{u as D,a as S}from"./redux-e3095c52.js";import{D as b}from"./deliveryService-b76a95e0.js";import{P as $}from"./paymentService-ee27eb05.js";import{m as i}from"./animations-c3d91ae5.js";import"./i18n-b264d0aa.js";import"./axios-edfcd65b.js";const T=()=>{const n=P();D(),g();const j=S(s=>s.cart),{cartItems:o,shippingAddress:a,paymentMethod:v}=j,[u,k]=c.useState(()=>localStorage.getItem("deliveryOption")||"standard"),d=o.reduce((s,t)=>s+t.qty*t.price,0),p=b.getDeliveryOptions(),r=p.find(s=>s.id===u)||p[0],m=r.price,h=Number((.08*d).toFixed(2)),N=(d+m+h).toFixed(2),[f,w]=c.useState(!1),[l,F]=c.useState("");c.useEffect(()=>{a.address||n("/checkout")},[n,a]);const y=$.getPaymentMethods(),x=y.find(s=>s.name===v)||y[0];return e.jsx(i.div,{className:"placeorder-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs("div",{className:"placeorder-container",children:[e.jsxs(i.div,{className:"placeorder-header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[e.jsx("h2",{children:"Place Order"}),e.jsx("p",{children:"Review your order and complete payment"})]}),e.jsxs("div",{className:"placeorder-content",children:[e.jsxs("div",{className:"placeorder-details",children:[e.jsxs(i.div,{className:"placeorder-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx("h3",{children:"Shipping Address"}),e.jsxs("div",{className:"placeorder-info",children:[e.jsx("p",{children:a.address}),e.jsxs("p",{children:[a.city,", ",a.postalCode]}),e.jsx("p",{children:a.country})]})]}),e.jsxs(i.div,{className:"placeorder-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsx("h3",{children:"Delivery Option"}),e.jsxs("div",{className:"placeorder-info",children:[e.jsx("p",{children:e.jsx("strong",{children:r.name})}),e.jsx("p",{children:r.description}),e.jsxs("p",{children:["Estimated: ",r.estimatedDays]})]})]}),e.jsxs(i.div,{className:"placeorder-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[e.jsx("h3",{children:"Payment Method"}),e.jsxs("div",{className:"placeorder-info",children:[e.jsx("p",{children:e.jsx("strong",{children:x.name})}),e.jsx("p",{children:x.description})]})]}),e.jsxs(i.div,{className:"placeorder-section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[e.jsx("h3",{children:"Order Items"}),e.jsx("div",{className:"placeorder-items",children:o.map((s,t)=>e.jsxs("div",{className:"placeorder-item",children:[e.jsx("img",{src:s.image,alt:s.name}),e.jsxs("div",{className:"item-details",children:[e.jsx("h4",{children:s.name}),e.jsx("p",{children:s.description}),e.jsxs("p",{children:["Quantity: ",s.qty]})]}),e.jsxs("div",{className:"item-price",children:["$",s.qty*s.price]})]},t))})]})]}),e.jsx("div",{className:"placeorder-summary",children:e.jsxs(i.div,{className:"summary-box",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.7},children:[e.jsx("h3",{children:"Order Summary"}),e.jsxs("div",{className:"summary-details",children:[e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Items"}),e.jsxs("span",{children:["$",d.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsxs("span",{children:["Delivery (",r.name,")"]}),e.jsxs("span",{children:["$",m.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["$",h.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row total",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",N]})]})]}),l&&e.jsx("div",{className:`payment-status ${l.includes("successful")?"success":""}`,children:l}),e.jsx("button",{className:"btn-primary place-order-btn",onClick:()=>n("/payment"),disabled:f,children:"Proceed to Payment"}),e.jsx(O,{to:"/checkout",className:"btn-secondary",children:"Back to Checkout"})]})})]})]})})};export{T as default};
