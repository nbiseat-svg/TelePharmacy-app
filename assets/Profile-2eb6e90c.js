import{j as e}from"./index-1a78f5cf.js";import{r}from"./vendor-d9bade96.js";import{u as U,a as w}from"./redux-e3095c52.js";import{g as z,b as A}from"./userActions-04f05082.js";import{m as n}from"./animations-c3d91ae5.js";import"./i18n-b264d0aa.js";import"./axios-edfcd65b.js";const _=()=>{const[o,d]=r.useState(""),[c,m]=r.useState(""),[h,u]=r.useState(""),[p,x]=r.useState(""),[j,f]=r.useState(""),[g,v]=r.useState(""),[y,N]=r.useState(""),[C,b]=r.useState(""),[S,P]=r.useState(""),[F,E]=r.useState(""),[L,O]=r.useState("en"),i=U(),{userInfo:a}=w(s=>s.auth),{loading:l,error:t,success:B}=w(s=>s.auth);r.useEffect(()=>{a&&(i(z("profile")),d(a.name||""),m(a.email||""),u(a.phone||""),a.address&&(x(a.address.street||""),f(a.address.city||""),v(a.address.state||""),N(a.address.zipCode||""),b(a.address.country||"")),P(a.dateOfBirth||""),E(a.gender||""),O(a.preferredLanguage||"en"))},[a,i]);const D=s=>{s.preventDefault(),i(A({id:a._id,name:o,email:c,phone:h,address:{street:p,city:j,state:g,zipCode:y,country:C},dateOfBirth:S,gender:F,preferredLanguage:L}))};return l&&!a?e.jsx("div",{className:"profile-page",children:e.jsx("div",{className:"profile-container",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading profile..."})]})})}):t&&!a?e.jsx("div",{className:"profile-page",children:e.jsx("div",{className:"profile-container",children:e.jsxs("div",{className:"alert alert-danger",children:["Error loading profile: ",t]})})}):a?e.jsx(n.div,{className:"profile-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:e.jsxs("div",{className:"profile-container",children:[e.jsxs(n.div,{className:"profile-header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[e.jsx("h2",{children:"User Profile"}),e.jsx("p",{children:"Manage your account information"})]}),t&&e.jsx("div",{className:"alert alert-danger",children:t}),B&&e.jsx("div",{className:"alert alert-success",children:"Profile updated successfully!"}),e.jsx(n.div,{className:"profile-form-container",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Personal Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",value:o,onChange:s=>d(s.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:c,onChange:s=>m(s.target.value)})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",value:h,onChange:s=>u(s.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsx("input",{type:"date",id:"dateOfBirth",value:S,onChange:s=>P(s.target.value)})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"gender",children:"Gender"}),e.jsxs("select",{id:"gender",value:F,onChange:s=>E(s.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Address Information"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"street",children:"Street Address"}),e.jsx("input",{type:"text",id:"street",value:p,onChange:s=>x(s.target.value)})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",children:"City"}),e.jsx("input",{type:"text",id:"city",value:j,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"state",children:"State/Province"}),e.jsx("input",{type:"text",id:"state",value:g,onChange:s=>v(s.target.value)})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"zipCode",children:"ZIP/Postal Code"}),e.jsx("input",{type:"text",id:"zipCode",value:y,onChange:s=>N(s.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"country",children:"Country"}),e.jsx("input",{type:"text",id:"country",value:C,onChange:s=>b(s.target.value)})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Preferences"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"preferredLanguage",children:"Preferred Language"}),e.jsxs("select",{id:"preferredLanguage",value:L,onChange:s=>O(s.target.value),children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"am",children:"Amharic"}),e.jsx("option",{value:"om",children:"Oromo"}),e.jsx("option",{value:"ti",children:"Tigrigna"})]})]})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:l,children:l?"Updating...":"Update Profile"})]})})]})}):e.jsx("div",{className:"profile-page",children:e.jsx("div",{className:"profile-container",children:e.jsx("div",{className:"alert alert-warning",children:"Please log in to view your profile."})})})};export{_ as default};
