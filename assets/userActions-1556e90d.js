import{a as n}from"./axios-edfcd65b.js";import{u,a as i,b as c,c as g,d as p,e as l,f,g as m,h as d,i as h,k as y,l as w}from"./index-a78a0123.js";const k=t=>async a=>{try{a(g());const s={headers:{"Content-Type":"application/json"}},{data:e}=await n.post("/api/auth/login",t,s);return a(p(e)),e}catch(s){const e=s.response&&s.response.data.message?s.response.data.message:s.message;throw a(l(e)),s}},q=t=>async a=>{try{a(f());const s={headers:{"Content-Type":"application/json"}},{data:e}=await n.post("/api/auth/register",t,s);return a(m(e)),e}catch(s){const e=s.response&&s.response.data.message?s.response.data.message:s.message;throw a(d(e)),s}},D=t=>async(a,s)=>{try{a(u());const{auth:{userInfo:e}}=s();if(t==="profile"){const r={headers:{Authorization:`Bearer ${e.token}`}},{data:o}=await n.get("/api/users/profile",r);return a(i(o)),o}else{const r={headers:{Authorization:`Bearer ${e.token}`}},{data:o}=await n.get(`/api/users/${t}`,r);return a(i(o)),o}}catch(e){const r=e.response&&e.response.data.message?e.response.data.message:e.message;throw a(c(r)),e}},F=t=>async(a,s)=>{try{a(h());const{auth:{userInfo:e}}=s(),r={headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`}},{data:o}=await n.put("/api/users/profile",t,r);return a(y(o)),o}catch(e){const r=e.response&&e.response.data.message?e.response.data.message:e.message;throw a(w(r)),e}};export{q as a,F as b,D as g,k as u};
