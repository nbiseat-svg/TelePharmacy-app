import{a as d}from"./axios-edfcd65b.js";const p="/api/orders",a=d.create({baseURL:p,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(n=>{const e=localStorage.getItem("token");return e&&(n.headers.Authorization=`Bearer ${e}`),n});class g{static async createOrder(e){var r,t;try{return(await a.post("/",e)).data}catch(s){throw new Error(((t=(r=s.response)==null?void 0:r.data)==null?void 0:t.message)||"Error creating order")}}static async getOrderById(e){var r,t;try{return(await a.get(`/${e}`)).data}catch(s){throw new Error(((t=(r=s.response)==null?void 0:r.data)==null?void 0:t.message)||"Error fetching order")}}static async updateOrderToPaid(e,r){var t,s;try{return(await a.put(`/${e}/pay`,r)).data}catch(o){throw new Error(((s=(t=o.response)==null?void 0:t.data)==null?void 0:s.message)||"Error updating order payment status")}}static async updateOrderToDelivered(e){var r,t;try{return(await a.put(`/${e}/deliver`)).data}catch(s){throw new Error(((t=(r=s.response)==null?void 0:r.data)==null?void 0:t.message)||"Error updating order delivery status")}}static async getMyOrders(){var e,r;try{return(await a.get("/myorders")).data}catch(t){throw new Error(((r=(e=t.response)==null?void 0:e.data)==null?void 0:r.message)||"Error fetching orders")}}static async getAllOrders(){var e,r;try{return(await a.get("/")).data}catch(t){throw new Error(((r=(e=t.response)==null?void 0:e.data)==null?void 0:r.message)||"Error fetching orders")}}static formatOrderDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}static getStatusDisplayText(e){return e.isDelivered?"Delivered":e.isPaid?"Paid":"Pending"}static getStatusClass(e){return e.isDelivered?"status-delivered":e.isPaid?"status-paid":"status-pending"}static calculateOrderTotals(e){const r=e.reduce((c,i)=>c+i.quantity*i.price,0),t=r>100?0:10,s=Number((.08*r).toFixed(2)),o=(r+t+s).toFixed(2);return{itemsPrice:r.toFixed(2),shippingPrice:t.toFixed(2),taxPrice:s.toFixed(2),totalPrice:o}}}export{g as O};
